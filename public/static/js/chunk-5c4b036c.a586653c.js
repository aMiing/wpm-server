(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c4b036c"],{"0de4":function(e,t,a){e.exports={"menu-color":"rgba(255,255,255,0.95)","menu-color-active":"rgba(255,255,255,0.95)","menu-background":"#2f3447"}},1052:function(e,t,a){"use strict";a("0de4")},"634a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-container"},[a("vab-query-form",[a("el-form",{ref:"form",attrs:{model:e.queryForm,inline:!0,size:"medium"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"输入商品名称搜索",clearable:""},on:{clear:e.clearSearchKey},model:{value:e.queryForm.title,callback:function(t){e.$set(e.queryForm,"title",t)},expression:"queryForm.title"}})],1),a("el-form-item",[a("el-button",{attrs:{icon:"el-icon-search",type:"primary","native-type":"submit"},on:{click:e.handleQuery}},[e._v(" 查询 ")])],1)],1)],1),a("div",{staticClass:"checkbox-content time-select"},[a("select-date",{on:{setDateEmit:e.setDateEmit}})],1),a("el-table",{ref:"tableSort",attrs:{data:e.list,height:e.height},on:{"sort-change":e.tableSortChange}},[a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"订单编号"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.orderId||r.uuid))])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"purchase",label:"购买商品"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"销售员",prop:"salesperson"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"originPayPrice",label:"订单总价(元)","sort-by":"originPayPrice"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"discount",label:"折扣","min-width":"40"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"realPayPrice",label:"折扣后总价(元)","sort-by":"realPayPrice"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"支付方式"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("span",{class:r.payMethod},[e._v(e._s(e._f("payMethodFilter")(r.payMethod)))])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"会员PN"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.PN||"--"))])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"余额支付(元)"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.balancePay||"--"))])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"surplusPayment",label:"当场支付(元)"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"订单生成时间","min-width":"125"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(e._f("timeFilter")(r.createTime)))])]}}])})],1),a("el-pagination",{attrs:{background:e.background,"current-page":e.queryForm.pageNo,layout:e.layout,"page-size":e.queryForm.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)},n=[],o=a("1da1"),i=a("5530"),l=(a("96cf"),a("0d03"),a("a9e3"),a("4160"),a("d3b7"),a("159b"),a("4795"),a("2f62")),c=a("8837"),s=a("ed08"),u={name:"Order",components:{SelectDate:c["default"]},filters:{statusFilter:function(e){return 1===e?"success":"info"},statusTextFilter:function(e){return 1===e?"有效":"无效"},timeFilter:function(e){return Object(s["formatTime"])(new Date(e),"{yy}-{mm}-{dd} {hh}:{ii}:{ss}")},payMethodFilter:function(e){var t={"balance-pay":"余额","integral-pay":"积分抵扣"};return t[e]||"立即支付"}},data:function(){return{imgShow:!0,imageList:[],listLoading:!0,layout:"total, sizes, prev, pager, next, jumper",background:!0,selectRows:"",elementLoadingText:"正在加载...",queryForm:{pageNo:1,pageSize:20,title:"",filterType:[]},initStartDate:"",initSelectRadio:"今天"}},computed:Object(i["a"])(Object(i["a"])({},Object(l["c"])({list:"order/getFiltList",total:"order/getTotal"})),{},{height:function(){return this.$baseTableHeight()}}),watch:{queryForm:{handler:function(e){this.getFilterData(e)},deep:!0}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchData();case 2:case"end":return t.stop()}}),t)})))()},methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(l["d"])({getFilterData:"order/getFilterData",setCurrenList:"order/setCurrenList"})),Object(l["b"])({setOrderList:"order/setOrderList"})),{},{setDateEmit:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.setOrderList(e);case 1:case"end":return a.stop()}}),a)})))()},addedChange:function(e){Number(e.saled)>0?this.addCartItem(e):this.delCartItem(e)},clearSearchKey:function(){this.handleQuery()},tableSortChange:function(){var e=[];this.$refs.tableSort.tableData.forEach((function(t){e.push(t.img)})),this.imageList=e},handleSizeChange:function(e){this.queryForm.pageSize=e},handleCurrentChange:function(e){this.queryForm.pageNo=e},handleQuery:function(){this.queryForm.pageNo=1},fetchData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.$baseColorfullLoading(1),setTimeout((function(){a.close()}),500);case 2:case"end":return t.stop()}}),t)})))()}})},d=u,p=(a("8ea3"),a("0c7c")),f=Object(p["a"])(d,r,n,!1,null,"4b1c9b02",null);t["default"]=f.exports},8837:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"select-date-content"},[a("el-radio-group",{on:{change:e.radioSelectChange},model:{value:e.initSelectRadio,callback:function(t){e.initSelectRadio=t},expression:"initSelectRadio"}},[a("el-radio-button",{attrs:{label:"今天"}}),a("el-radio-button",{attrs:{label:"昨天"}}),a("el-radio-button",{attrs:{label:"近一周"}}),a("el-radio-button",{attrs:{label:"近30天"}}),a("el-radio-button",{attrs:{label:"近90天"}})],1),a("div",{staticClass:"initTime"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"timestamp"},on:{change:e.pickerDateChange},model:{value:e.initStartDate,callback:function(t){e.initStartDate=t},expression:"initStartDate"}})],1)],1)},n=[],o=a("1da1"),i=(a("96cf"),a("0d03"),{name:"SetDate",props:{initSelect:{type:String,default:"今天"}},data:function(){return{initStartDate:"",initSelectRadio:""}},mounted:function(){this.initSelectRadio=this.initSelect,this.radioSelectChange(this.initSelectRadio)},methods:{radioSelectChange:function(e){var t=(new Date).toLocaleDateString(),a=(new Date).getTime(),r=new Date(t).getTime(),n=864e5,o=[];switch(e){case"今天":o=[r,a];break;case"昨天":o=[r-n,r];break;case"近一周":o=[a-7*n,a];break;case"近30天":o=[a-30*n,a];break;case"近90天":o=[a-90*n,a];break;default:o=[r,a];break}this.pickerDateChange(o)},pickerDateChange:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$emit("setDateEmit",e);case 1:case"end":return a.stop()}}),a)})))()}}}),l=i,c=(a("1052"),a("0c7c")),s=Object(c["a"])(l,r,n,!1,null,null,null);t["default"]=s.exports},"8ea3":function(e,t,a){"use strict";a("c08f")},c08f:function(e,t,a){}}]);